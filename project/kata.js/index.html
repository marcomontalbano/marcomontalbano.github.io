<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.b3694a88c453aa53627c.css">.hljs{display:block;overflow-x:auto;padding:.5em;color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects;word-break:break-word}a:active,a:hover{outline-width:0}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}</style><meta name="generator" content="Gatsby 2.24.2"/><title data-react-helmet="true">Test-Driven Development with Mocha: How to | Marco Montalbano</title><meta data-react-helmet="true" name="description" content="Hi everyone, my name is Marco Montalbano and I&#x27;m a web developer. On this site you can discover more about me, my projects, my work and my curriculum."/><meta data-react-helmet="true" property="og:title" content="Test-Driven Development with Mocha: How to"/><meta data-react-helmet="true" property="og:description" content="Hi everyone, my name is Marco Montalbano and I&#x27;m a web developer. On this site you can discover more about me, my projects, my work and my curriculum."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@montalbanomarco"/><meta data-react-helmet="true" name="twitter:title" content="Test-Driven Development with Mocha: How to"/><meta data-react-helmet="true" name="twitter:description" content="Hi everyone, my name is Marco Montalbano and I&#x27;m a web developer. On this site you can discover more about me, my projects, my work and my curriculum."/><link rel="icon" href="/favicon-32x32.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#559CD0"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ed078339d08674f6553e35dfc7db2f04"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/lato/v17/S6u9w4BMUTPHh6UVSwiPGQ.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/lato/v17/S6u9w4BMUTPHh7USSwiPGQ.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/spinnaker/v12/w8gYH2oyX-I0_rvR6HmX23YK.woff2"/><style type="text/css">@font-face{font-family:Lato;font-style:normal;font-weight:300;src:local('Lato Light'),local('Lato-Light'),url(/google-fonts/s/lato/v17/S6u9w4BMUTPHh7USSwiPGQ.woff2) format('woff2'),url(/google-fonts/s/lato/v17/S6u9w4BMUTPHh7USSwiPHw.woff) format('woff');font-display: swap;}@font-face{font-family:Lato;font-style:normal;font-weight:700;src:local('Lato Bold'),local('Lato-Bold'),url(/google-fonts/s/lato/v17/S6u9w4BMUTPHh6UVSwiPGQ.woff2) format('woff2'),url(/google-fonts/s/lato/v17/S6u9w4BMUTPHh6UVSwiPHw.woff) format('woff');font-display: swap;}@font-face{font-family:Spinnaker;font-style:normal;font-weight:400;src:local('Spinnaker'),local('Spinnaker-Regular'),url(/google-fonts/s/spinnaker/v12/w8gYH2oyX-I0_rvR6HmX23YK.woff2) format('woff2'),url(/google-fonts/s/spinnaker/v12/w8gYH2oyX-I0_rvR6HmX23YM.woff) format('woff');font-display: swap;}</style><style data-styled="" data-styled-version="5.1.1">.bcMPWx{--color-text:#223a48;--color-link:#559cd0;font-family:'Lato',sans-serif;color:var(--color-text);line-height:1.42;font-weight:300;font-size:100%;box-sizing:border-box;}/*!sc*/
@media (min-width:480px){.bcMPWx{font-size:112.5%;}}/*!sc*/
.bcMPWx *,.bcMPWx *:before,.bcMPWx *:after{box-sizing:inherit;}/*!sc*/
.bcMPWx img{max-width:100%;border-style:none;}/*!sc*/
.bcMPWx a{color:var(--color-link);}/*!sc*/
.bcMPWx code{font-family:'SFMono-Regular',Consolas,'Roboto Mono','Droid Sans Mono','Liberation Mono',Menlo,Courier, monospace;font-size:0.85em;border-radius:3px;}/*!sc*/
.bcMPWx code:not([class*='language-']){background-color:rgba(0,0,0,0.03);padding:0.2em 0.4em;color:#78909c;}/*!sc*/
.bcMPWx small{font-size:80%;}/*!sc*/
.bcMPWx blockquote{padding:0.6rem 1rem;margin:0 0 1.45rem;font-size:1em;border-left:5px solid #eee;}/*!sc*/
.bcMPWx ul li{margin-bottom:calc(1.45rem / 2);}/*!sc*/
.bcMPWx blockquote *:last-child,.bcMPWx li *:last-child,.bcMPWx p *:last-child{margin-bottom:0;}/*!sc*/
.bcMPWx table,.bcMPWx p,.bcMPWx hr{margin:0 0 1.45rem 0;padding:0;}/*!sc*/
.bcMPWx hr{background:hsla(0,0%,0%,0.2);border:none;height:1px;}/*!sc*/
.bcMPWx table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}/*!sc*/
.bcMPWx table thead{text-align:left;}/*!sc*/
.bcMPWx table td,.bcMPWx table th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:'tnum';-moz-font-feature-settings:'tnum';-ms-font-feature-settings:'tnum';-webkit-font-feature-settings:'tnum';padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}/*!sc*/
.bcMPWx table td:first-child,.bcMPWx table th:first-child{padding-left:0;}/*!sc*/
.bcMPWx table td:last-child,.bcMPWx table th:last-child{padding-right:0;}/*!sc*/
.bcMPWx h1{font-size:2em;margin:0.67em 0;}/*!sc*/
.bcMPWx h2{font-size:1.5em;margin:0.83em 0;margin:1.7em 0 0.83em;}/*!sc*/
.bcMPWx h3{font-size:1.17em;margin:1em 0;}/*!sc*/
.bcMPWx h4{font-size:1em;margin:1.33em 0;}/*!sc*/
.bcMPWx h5{font-size:0.83em;margin:1.67em 0;}/*!sc*/
.bcMPWx h6{font-size:0.67em;margin:2.33em 0;}/*!sc*/
data-styled.g1[id="sc-AxjAm"]{content:"bcMPWx,"}/*!sc*/
.cXCcHX{position:relative;color:white;height:60px;}/*!sc*/
.cXCcHX ~ *{margin-top:-60px;}/*!sc*/
@media (min-width:480px){.cXCcHX{height:70px;}.cXCcHX ~ *{margin-top:-70px;}}/*!sc*/
.cXCcHX a{color:white;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g2[id="sc-AxirZ"]{content:"cXCcHX,"}/*!sc*/
.eSbheu{position:fixed;z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:inherit;}/*!sc*/
.eSbheu::after{content:'';position:absolute;width:100%;height:100%;background:linear-gradient(180deg,black -60%,transparent 105%);}/*!sc*/
data-styled.g3[id="sc-AxiKw"]{content:"eSbheu,"}/*!sc*/
.jbnDJN{box-shadow:1px 1px 10px -4px black;background:rgb(19,96,138);background:linear-gradient(96deg,var(--gradient-start),var(--gradient-end));background-size:200%;background-position:50% 0;position:absolute;width:100%;height:100%;-webkit-transition:opacity 0.3s;transition:opacity 0.3s;opacity:0.4;}/*!sc*/
.jbnDJN.animate{-webkit-animation:iwVTEb 5s ease infinite;animation:iwVTEb 5s ease infinite;-webkit-animation:iwVTEb 5s linear forwards;animation:iwVTEb 5s linear forwards;}/*!sc*/
.jbnDJN.solid{opacity:1;}/*!sc*/
data-styled.g4[id="sc-AxhCb"]{content:"jbnDJN,"}/*!sc*/
.fxWvvr{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;z-index:1;font-family:'Spinnaker',sans-serif;font-size:1.2rem;padding-left:15px;}/*!sc*/
@media (min-width:480px){.fxWvvr{padding-left:25px;font-size:1.5rem;}}/*!sc*/
data-styled.g5[id="sc-AxhUy"]{content:"fxWvvr,"}/*!sc*/
.cVmQYF{position:absolute;bottom:0;}/*!sc*/
data-styled.g6[id="sc-AxgMl"]{content:"cVmQYF,"}/*!sc*/
.eXzlnr{z-index:1;}/*!sc*/
.eXzlnr > a{padding:0 15px;}/*!sc*/
@media (min-width:480px){.eXzlnr > a{padding:0 25px;}}/*!sc*/
data-styled.g7[id="sc-AxheI"]{content:"eXzlnr,"}/*!sc*/
.dteCCc .showdown-youtube-extension{height:0;overflow:hidden;padding-bottom:56.25%;position:relative;max-width:90%;border-radius:5px;margin:0 auto;}/*!sc*/
.dteCCc .showdown-youtube-extension iframe,.dteCCc .showdown-youtube-extension object,.dteCCc .showdown-youtube-extension embed{height:100%;left:0;position:absolute;top:0;width:100%;}/*!sc*/
.dteCCc .showdown-images-extension{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
.dteCCc .showdown-images-extension img{width:100%;padding:10px;border-radius:15px;}/*!sc*/
@media (min-width:480px){.dteCCc .showdown-images-extension img{width:50%;}}/*!sc*/
data-styled.g10[id="sc-fzozJi"]{content:"dteCCc,"}/*!sc*/
.cRqDnb{margin:0 auto;max-width:1200px;padding:0px 1.0875rem 1.45rem;padding-top:0;position:relative;}/*!sc*/
data-styled.g11[id="container-ivviqv-0"]{content:"cRqDnb,"}/*!sc*/
.jFytGE{min-height:50vh;max-height:80vh;display:block;width:100%;object-fit:cover;}/*!sc*/
data-styled.g12[id="hero__Img-sc-174jzg0-0"]{content:"jFytGE,"}/*!sc*/
.kViJTA{position:absolute;top:-50px;right:5px;}/*!sc*/
.kViJTA > a{display:inline-block;margin:0 4px;}/*!sc*/
.kViJTA img{display:block;}/*!sc*/
@media (min-width:480px){.kViJTA{top:-60px;right:15px;}}/*!sc*/
data-styled.g13[id="heroLinks__HeroLinks-srops6-0"]{content:"kViJTA,"}/*!sc*/
@-webkit-keyframes iwVTEb{0%{background-size:600%;}100%{background-size:100%;}}/*!sc*/
@keyframes iwVTEb{0%{background-size:600%;}100%{background-size:100%;}}/*!sc*/
data-styled.g14[id="sc-keyframes-iwVTEb"]{content:"iwVTEb,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-1e9d242e00c62011c0ff.js"/><link as="script" rel="preload" href="/framework-63ec46a3540d83159f28.js"/><link as="script" rel="preload" href="/app-4ad1d65ae5a5c8f4db25.js"/><link as="script" rel="preload" href="/styles-2d82ac8e3afc0c213061.js"/><link as="script" rel="preload" href="/0ede2332-68c0b6508428caf86924.js"/><link as="script" rel="preload" href="/commons-a62ed5fe581480ca4568.js"/><link as="script" rel="preload" href="/component---src-templates-project-tsx-462ca04e95f18f185408.js"/><link as="fetch" rel="preload" href="/page-data/project/kata.js/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="sc-AxjAm bcMPWx"><header style="--gradient-start:hsl(200, 78%, 68%);--gradient-end:hsl(180, 78%, 68%)" class="sc-AxirZ cXCcHX"><div class="sc-AxiKw eSbheu"><div class="sc-AxhCb jbnDJN"></div><div class="sc-AxhUy fxWvvr"><a href="/">Marco Montalbano</a></div><div class="sc-AxheI eXzlnr"><a href="https://github.com/marcomontalbano">GitHub</a><a href="https://marcomontalbano.github.io/curriculum/curriculum-marco-montalbano.pdf">CV</a></div></div><span class="sc-AxgMl cVmQYF"></span></header><main><img src="https://raw.githubusercontent.com/marcomontalbano/kata.js/master/cover.png" alt="Test-Driven Development with Mocha: How to" class="hero__Img-sc-174jzg0-0 jFytGE"/><div style="margin-top:1.45rem" class="container-ivviqv-0 cRqDnb"><div class="heroLinks__HeroLinks-srops6-0 kViJTA"><a href="https://github.com/marcomontalbano/kata.js"><img alt="GitHub" src="https://img.shields.io/badge/-GitHub-lightgray?color=2b3138&amp;logoColor=949da5&amp;logo=github&amp;style=flat"/></a></div><div class="sc-fzozJi dteCCc"><p><a href="https://github.com/marcomontalbano/kata.js"><img src="https://github.com/marcomontalbano/kata.js/workflows/Node%20CI/badge.svg" alt="Build Status" /></a>
<a href="https://travis-ci.org/marcomontalbano/kata.js"><img src="https://travis-ci.org/marcomontalbano/kata.js.svg?branch=master" alt="Build Status" /></a>
<a href="https://coveralls.io/github/marcomontalbano/kata.js?branch=master"><img src="https://coveralls.io/repos/github/marcomontalbano/kata.js/badge.svg?branch=master" alt="Coverage Status" /></a></p>
<h1 id="test-driven-development-with-mocha-how-to">Test-Driven Development with Mocha: How to</h1>
<p>A <a href="https://en.wikipedia.org/wiki/Kata_(programming)">code kata</a> is an exercise in programming which helps a programmer hone their skills through practice and repetition.</p>
<p>The term was probably first coined by <a href="https://en.wikipedia.org/wiki/Dave_Thomas_(programmer)">Dave Thomas</a>, co-author of the book <a href="https://en.wikipedia.org/wiki/The_Pragmatic_Programmer">The Pragmatic Programmer</a>, in a bow to the Japanese concept of kata in the martial arts.</p>
<h2 id="katas">Katas</h2>
<ul>
<li>Sound Player</li>
<li>Hello World</li>
<li>FizzBuzz</li>
<li>Rock Paper Scissors</li>
<li>Primes</li>
</ul>
<h2 id="setup">Setup</h2>
<p>All project dependencies are installed and managed via npm, the <a href="http://nodejs.org">Node.js</a> package manager.</p>
<pre><code class="sh language-sh">npm install
npm test
</code></pre>
<p>Alternatively you can use <a href="https://yarnpkg.com/lang/en/">Yarn</a>.</p>
<pre><code class="sh language-sh">yarn
yarn test
</code></pre>
<h2 id="continuous-integration-with-travis-ciorg">Continuous Integration with travis-ci.org</h2>
<p><a href="https://travis-ci.org/">Travis CI</a> is a hosted, distributed continuous integration service used to build and test software projects hosted at GitHub.</p>
<p>In order to use Travis CI with your JavaScript projects you must use output on console instead of the html.</p>
<ul>
<li>Click on <code>+</code> sign to add new repository.</li>
<li>Login with your Github credentials.</li>
<li>Select the repository.</li>
<li>Update your <code>package.json</code> adding:</li>
</ul>
<pre><code class="json language-json">"scripts": {
  "test": "mocha ./**/*.spec.js"
},
</code></pre>
<ul>
<li>Add a <code>.travis.yml</code> file to your repository to tell Travis CI what to build:</li>
</ul>
<pre><code class="yaml language-yaml">language: node_js
node_js:
  - "12"
</code></pre>
<ul>
<li><em>note</em>: <code>npm install</code> and <code>npm test</code> are automatically executed by Travis CI.</li>
<li>Commit and push your changes.</li>
</ul>
<p>That's it!</p>
<h2 id="test-driven-development">Test-driven development</h2>
<p>Test-driven development (TDD) is a software development process that relies on the repetition of a very short development cycle:</p>
<ul>
<li>first the developer writes an (initially failing) automated test case that defines a desired improvement or new function.</li>
<li>then produces the minimum amount of code to pass that test.</li>
<li>finally refactors the new code to acceptable standards.</li>
</ul>
<h3 id="toolkit">Toolkit</h3>
<p><a href="https://mochajs.org/">Mocha</a> is a feature-rich JavaScript test framework running on Node.js and in the browser, making asynchronous testing simple and fun. Mocha tests run serially, allowing for flexible and accurate reporting, while mapping uncaught exceptions to the correct test cases.</p>
<p><a href="https://www.chaijs.com/">Chai</a> is a BDD / TDD assertion library for node and the browser that can be delightfully paired with any javascript testing framework.</p>
<p><a href="https://sinonjs.org/">Sinon</a> is a standalone test spies, stubs and mocks for JavaScript. Works with any unit testing framework.</p>
<p><a href="https://istanbul.js.org/">Istanbul</a> instruments your ES5 and ES2015+ JavaScript code with line counters, so that you can track how well your unit-tests exercise your codebase.
The <a href="https://github.com/istanbuljs/nyc">nyc</a> command-line-client for Istanbul works well with most JavaScript testing frameworks: tap, mocha, AVA, etc.</p>
<p><a href="https://stryker-mutator.io/">Stryker</a> uses one design mentality to implement mutation testing. It's easy to use and fast to run. Stryker will only mutate your source code, making sure there are no false positives.</p>
<h3 id="example">Example</h3>
<p>Following an example of Test-Driven Development using Mocha and Chai for the most famous application: <strong><code>Hello World</code></strong>!</p>
<p>Setup is easy, just run an <code>npm</code> command and change few lines into your <code>package.json</code>.</p>
<pre><code class="sh language-sh">npm install -D mocha chai
</code></pre>
<pre><code class="json language-json">"scripts": {
  "test": "mocha ./**/*.spec.js"
},
</code></pre>
<p>Now you are able to run unit tests with <code>npm test</code>.</p>
<blockquote>
  <p>If you want to use ES6 syntax with import/export you will need <code>babel</code> also. To understand more about it, you can checkout this project, I'm using it 😄</p>
</blockquote>
<p>First of all we should create a new file <code>HelloWorld.spec.js</code>.</p>
<p>Now we can start writing our first test.</p>
<pre><code class="js language-js">//- HelloWorldSpec.js

const expect = require('chai').expect;
const HelloWorld = require('./HelloWorld');

describe('HelloWorld', () =&gt; {
  it('should exist.', () =&gt; {
    // given
    new HelloWorld();
  });
});
</code></pre>
<p>❗️ <strong>RED</strong> - Try running test and it will fail.</p>
<hr />
<p>Create a new file <code>HelloWorld.js</code>.</p>
<p>The next step is writing some code that would cause the test to pass.</p>
<pre><code class="js language-js">//- HelloWorld.js

function HelloWorld() {
}

module.exports =&amp;nbsp;HelloWorld;
</code></pre>
<p>💚 <strong>GREEN</strong> - Try running test and it will pass.</p>
<hr />
<p>❔ <strong>Need for refactoring?</strong></p>
<hr />
<p>We have a green bar! Now we can write a new test.</p>
<pre><code class="js language-js">//- HelloWorld.spec.js

...

  it('should greet() correcly.', () =&gt; {
    // given
    const helloWorld = new HelloWorld();

    // then
    expect(helloWorld.greet()).to.equal('Hello world');
  });

...
</code></pre>
<p>❗️ <strong>RED</strong> - Try running test and it will fail.</p>
<hr />
<p>Now we can write some code that would cause the test to pass.</p>
<pre><code class="js language-js">//- HelloWorld.js

...

HelloWorld.prototype.greet = function () {
  return 'Hello world';
};
</code></pre>
<p>💚 <strong>GREEN</strong> - Try running test and it will pass.</p>
<hr />
<p>❔ <strong>Need for refactoring?</strong></p>
<hr />
<p>🎉 <strong>Done</strong></p>
<hr />
<p><strong>SPEC</strong> - HelloWorld.spec.js</p>
<pre><code class="js language-js">//- HelloWorld.spec.js

const expect = require('chai').expect;
const HelloWorld = require('./HelloWorld');

describe('HelloWorld', () =&gt; {

  it('should exist.', () =&gt; {
    // given
    new HelloWorld();
  });

  it('should greet() correcly.', () =&gt; {
    // given
    const helloWorld = new HelloWorld();

    // then
    expect(helloWorld.greet()).to.equal('Hello world');
  });

});
</code></pre>
<p><strong>SRC</strong> - HelloWorld.js</p>
<pre><code class="js language-js">//- HelloWorld.js

function HelloWorld() {
}

HelloWorld.prototype.greet = function () {
  return 'Hello world';
};

module.exports = HelloWorld;
</code></pre>
<hr />
<p>Now if we decide to refactor the application moving from <code>prototype</code> to <code>class</code>, we can do it without fear.</p>
<p>So, let's do this 😎</p>
<pre><code class="js language-js">//- HelloWorld.js

module.exports = class {
  greet() {
    return 'Hello world';
  }
}
</code></pre>
<p>💚 <strong>GREEN</strong> - Try running test and it will pass.</p>
<h2 id="further-readings">Further readings</h2>
<ul>
<li><a href="https://www.amazon.it/gp/product/0321146530/ref=as_li_tl?ie=UTF8&tag=marcomontalba-21&camp=3414&creative=21718&linkCode=as2&creativeASIN=0321146530&linkId=1ca1dd6ac49f36bde8d8873e0c219592">Test Driven Development: By Example</a> (Kent Beck) - Addison-Wesley</li>
<li><a href="https://www.amazon.it/gp/product/B00C10Y9BS/ref=as_li_tl?ie=UTF8&tag=marcomontalba-21&camp=3414&creative=21718&linkCode=as2&creativeASIN=B00C10Y9BS&linkId=09b0ff07e7fdfff34479e6b75c6c0de6">JavaScript Testing with Jasmine</a> (Evan Hahn) - O'Reilly Media</li>
<li><a href="https://www.amazon.it/gp/product/B00ESX15MW/ref=as_li_tl?ie=UTF8&tag=marcomontalba-21&camp=3414&creative=21718&linkCode=as2&creativeASIN=B00ESX15MW&linkId=56d03cf6deae504b4eef80075e3be7fb">Jasmine JavaScript Testing</a> (Paulo Ragonha) - Packt Publishing</li>
<li><a href="https://www.amazon.it/gp/product/1782160620/ref=as_li_tl?ie=UTF8&tag=marcomontalba-21&camp=3414&creative=21718&linkCode=as2&creativeASIN=1782160620&linkId=9389d2655483038a950339ca11a7035c">JavaScript Unit Testing</a> (Hazem Saleh) - Packt Publishing</li>
</ul></div></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/project/kata.js";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5c9b2a3962da6417d07e.js"],"app":["/app-4ad1d65ae5a5c8f4db25.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-f457b0cc99a2fc35c794.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-d864ad0c5ed07d4613ae.js"],"component---src-templates-project-tsx":["/component---src-templates-project-tsx-462ca04e95f18f185408.js"]};/*]]>*/</script><script src="/polyfill-5c9b2a3962da6417d07e.js" nomodule=""></script><script src="/component---src-templates-project-tsx-462ca04e95f18f185408.js" async=""></script><script src="/commons-a62ed5fe581480ca4568.js" async=""></script><script src="/0ede2332-68c0b6508428caf86924.js" async=""></script><script src="/styles-2d82ac8e3afc0c213061.js" async=""></script><script src="/app-4ad1d65ae5a5c8f4db25.js" async=""></script><script src="/framework-63ec46a3540d83159f28.js" async=""></script><script src="/webpack-runtime-1e9d242e00c62011c0ff.js" async=""></script></body></html>