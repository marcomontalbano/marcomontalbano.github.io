{"componentChunkName":"component---src-templates-project-tsx","path":"/project/speedtest-for-digitalocean","result":{"pageContext":{"name":"speedtest-for-digitalocean","homepageUrl":"http://speedtest-do.marcomontalbano.com","url":"https://github.com/marcomontalbano/speedtest-for-digitalocean","title":"Speed Test for DigitalOcean","cover":"https://raw.githubusercontent.com/marcomontalbano/speedtest-for-digitalocean/master/cover.png","readme":"Speed Test for DigitalOcean\n===========================\n\n[![Build Status](https://travis-ci.com/marcomontalbano/speedtest-for-digitalocean.svg?branch=master)](https://travis-ci.com/marcomontalbano/speedtest-for-digitalocean)\n[![PayPal.me](https://img.shields.io/badge/paypal-donate-119fde.svg)](https://www.paypal.me/marcomontalbano)\n[![Sponsor](https://img.shields.io/badge/-Sponsor-fafbfc?logo=GitHub%20Sponsors)](https://github.com/sponsors/marcomontalbano)\n\nDigitalOcean provides usefull links to run speed tests for each datacenter, but only one at a time.\nI created this repository to speed up this process.\n\nRun speed tests for all DigitalOcean datacenters faster than ever.\n\n[http://speedtest-do.marcomontalbano.com](http://speedtest-do.marcomontalbano.com)\n\nJust click start!\n\n![Speedtest for DigitalOcean - Screenshot](https://github.com/marcomontalbano/speedtest-for-digitalocean/raw/master/public/images/speedtest-for-digitalocean-screenshot-without-header.jpg)\n\nThis tool uses the same service used by __speedtest-*.digitalocean.com__ so the result should be the same.\n\n\n## Micro Frontend\n\nUnfortunately, this application is not working anymore from my domain since the speed test service is now validating the domain name.\n\nOf course, the valid domain is the DigitalOcean domain. Given that, I decided to refactor this application to be **served as a micro-frontend** so that we are able to inject it into their website.\n\n### How does it work?\n\nWhen Travis CI builds the website and publishes it to GitHub Pages, two files are generated (`main.js` and `main.css`). They are used both to render the website hosted at [speedtest-do.marcomontalbano.com](http://speedtest-do.marcomontalbano.com/) and to render the injected application at [speedtest-nyc1.digitalocean.com](http://speedtest-nyc1.digitalocean.com/).\n\nThe `bookmark` is simply a javascript code that injects both files in the website in a similar way:\n\n```js\nvar script = document.createElement('script');\nscript.src = 'https://cdn.jsdelivr.net/gh/marcomontalbano/speedtest-for-digitalocean@latest/static/js/main.js';\n\nvar style = document.createElement('link');\nstyle.href = 'https://cdn.jsdelivr.net/gh/marcomontalbano/speedtest-for-digitalocean@latest/static/css/main.css';\nstyle.rel = 'stylesheet';\n\ndocument.head.innerHTML = '';\ndocument.body.innerHTML = '';\n\ndocument.body.setAttribute('id', 'st4do-root');\ndocument.head.append(script, style);\n```\n\nYou can take a look at the production code being used: [`bookmark.js`](https://github.com/marcomontalbano/speedtest-for-digitalocean/blob/master/bookmark.js)\n\n\n## Need an account for DigitalOcean?\n\nClick [here](https://m.do.co/c/45b8cffe90f8) to register a new one!\n\n\n## Privacy\n\nGoogle Analytics is used to record the following:\n\n* [Basic visit data](https://support.google.com/analytics/answer/6004245?ref_topic=2919631).\n* `ping`, `download` and `upload` speed for each region in order to provide the consultable table.\n\nClicking on `start` you accept this terms & condition; no additional data is sent to the server.\n"}},"staticQueryHashes":["3649515864","63159454"]}